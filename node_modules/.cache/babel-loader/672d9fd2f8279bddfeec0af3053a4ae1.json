{"ast":null,"code":"import { setError, toggleLoading } from \"./Actions\";\nimport CallBackend from \"./CallBackend\";\nimport { getUserInfo } from \"./GetUserInfo\";\nexport const authenticate = form => {\n  return async (dispatch, getState) => {\n    dispatch(toggleLoading(true));\n    let {\n      socket\n    } = getState().config;\n    await CallBackend(socket, \"login\", \"\", form).then(resp => {\n      if (resp && resp.token) {\n        localStorage.setItem(\"token\", resp.token);\n        dispatch(getUserInfo());\n        dispatch(setError(\"login\", false));\n        console.log(\"fim auth\");\n        dispatch(toggleLoading(false));\n      }\n\n      if (resp && resp.error) {\n        console.log(resp.error);\n        dispatch(setError(\"login\", true));\n        dispatch(toggleLoading(false));\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/rocan/OneDrive/Documents/SummitPrime/frontendDev/src/Redux/Actions/Authenticate.js"],"names":["setError","toggleLoading","CallBackend","getUserInfo","authenticate","form","dispatch","getState","socket","config","then","resp","token","localStorage","setItem","console","log","error","catch","e"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,aAAnB,QAAwC,WAAxC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,WAAT,QAA4B,eAA5B;AAEA,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AACpC,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACnCD,IAAAA,QAAQ,CAACL,aAAa,CAAC,IAAD,CAAd,CAAR;AACA,QAAI;AAAEO,MAAAA;AAAF,QAAaD,QAAQ,GAAGE,MAA5B;AAEA,UAAMP,WAAW,CAACM,MAAD,EAAS,OAAT,EAAkB,EAAlB,EAAsBH,IAAtB,CAAX,CACHK,IADG,CACGC,IAAD,IAAU;AACd,UAAIA,IAAI,IAAIA,IAAI,CAACC,KAAjB,EAAwB;AACtBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACC,KAAnC;AACAN,QAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AACAG,QAAAA,QAAQ,CAACN,QAAQ,CAAC,OAAD,EAAU,KAAV,CAAT,CAAR;AACAe,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAV,QAAAA,QAAQ,CAACL,aAAa,CAAC,KAAD,CAAd,CAAR;AACD;;AACD,UAAIU,IAAI,IAAIA,IAAI,CAACM,KAAjB,EAAwB;AACtBF,QAAAA,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACM,KAAjB;AACAX,QAAAA,QAAQ,CAACN,QAAQ,CAAC,OAAD,EAAU,IAAV,CAAT,CAAR;AACAM,QAAAA,QAAQ,CAACL,aAAa,CAAC,KAAD,CAAd,CAAR;AACD;AACF,KAdG,EAeHiB,KAfG,CAeIC,CAAD,IAAO;AACZJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AACD,KAjBG,CAAN;AAkBD,GAtBD;AAuBD,CAxBM","sourcesContent":["import { setError, toggleLoading } from \"./Actions\";\r\nimport CallBackend from \"./CallBackend\";\r\nimport { getUserInfo } from \"./GetUserInfo\";\r\n\r\nexport const authenticate = (form) => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(toggleLoading(true));\r\n    let { socket } = getState().config;\r\n\r\n    await CallBackend(socket, \"login\", \"\", form)\r\n      .then((resp) => {\r\n        if (resp && resp.token) {\r\n          localStorage.setItem(\"token\", resp.token);\r\n          dispatch(getUserInfo());\r\n          dispatch(setError(\"login\", false));\r\n          console.log(\"fim auth\");\r\n          dispatch(toggleLoading(false));\r\n        }\r\n        if (resp && resp.error) {\r\n          console.log(resp.error);\r\n          dispatch(setError(\"login\", true));\r\n          dispatch(toggleLoading(false));\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}