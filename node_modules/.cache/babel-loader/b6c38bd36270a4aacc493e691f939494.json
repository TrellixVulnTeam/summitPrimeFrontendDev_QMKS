{"ast":null,"code":"import { changeItens } from \"../Actions\";\nimport { saveOrcamento } from \"../SaveOrcamento\";\nexport const ChangeItens = (indexItem, quantidade) => {\n  return (dispatch, getState) => {\n    let orcamentos = getState().orcamentos;\n    let indexOrcamento = orcamentos.salvos.findIndex(orcamento => orcamento.id === orcamentos.atual);\n    let itens = getState().orcamentos.salvos[indexOrcamento].itens;\n\n    if (!sku) {\n      itens.push({});\n    } else if (sku === 0 && indexItem) {\n      itens.splice(indexItem, 1);\n    } else {\n      let produtoIndex = itens.findIndex(item => item.sku === sku);\n\n      if (produtoIndex !== -1) {\n        if (quantidade > 0) {\n          itens[produtoIndex].quantidade = quantidade;\n        } else {\n          itens.splice(produtoIndex, 1);\n        }\n      } else if (quantidade > 0) {\n        itens.push({\n          sku,\n          quantidade\n        });\n      }\n    }\n\n    dispatch(changeItens(itens, indexOrcamento));\n    dispatch(saveOrcamento({\n      index: indexOrcamento\n    }));\n  };\n};\n_c = ChangeItens;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangeItens\");","map":{"version":3,"sources":["C:/Users/rocan/OneDrive/Documents/SummitPrime/frontendDev/src/Redux/Actions/TabelaActions/ChangeItens.js"],"names":["changeItens","saveOrcamento","ChangeItens","indexItem","quantidade","dispatch","getState","orcamentos","indexOrcamento","salvos","findIndex","orcamento","id","atual","itens","sku","push","splice","produtoIndex","item","index"],"mappings":"AAAA,SAASA,WAAT,QAA4B,YAA5B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,SAAD,EAAYC,UAAZ,KAA2B;AACpD,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7B,QAAIC,UAAU,GAAGD,QAAQ,GAAGC,UAA5B;AACA,QAAIC,cAAc,GAAGD,UAAU,CAACE,MAAX,CAAkBC,SAAlB,CAClBC,SAAD,IAAeA,SAAS,CAACC,EAAV,KAAiBL,UAAU,CAACM,KADxB,CAArB;AAGA,QAAIC,KAAK,GAAGR,QAAQ,GAAGC,UAAX,CAAsBE,MAAtB,CAA6BD,cAA7B,EAA6CM,KAAzD;;AACA,QAAI,CAACC,GAAL,EAAU;AACRD,MAAAA,KAAK,CAACE,IAAN,CAAW,EAAX;AACD,KAFD,MAEO,IAAID,GAAG,KAAK,CAAR,IAAaZ,SAAjB,EAA4B;AACjCW,MAAAA,KAAK,CAACG,MAAN,CAAad,SAAb,EAAwB,CAAxB;AACD,KAFM,MAEA;AACL,UAAIe,YAAY,GAAGJ,KAAK,CAACJ,SAAN,CAAiBS,IAAD,IAAUA,IAAI,CAACJ,GAAL,KAAaA,GAAvC,CAAnB;;AAEA,UAAIG,YAAY,KAAK,CAAC,CAAtB,EAAyB;AACvB,YAAId,UAAU,GAAG,CAAjB,EAAoB;AAClBU,UAAAA,KAAK,CAACI,YAAD,CAAL,CAAoBd,UAApB,GAAiCA,UAAjC;AACD,SAFD,MAEO;AACLU,UAAAA,KAAK,CAACG,MAAN,CAAaC,YAAb,EAA2B,CAA3B;AACD;AACF,OAND,MAMO,IAAId,UAAU,GAAG,CAAjB,EAAoB;AACzBU,QAAAA,KAAK,CAACE,IAAN,CAAW;AAAED,UAAAA,GAAF;AAAOX,UAAAA;AAAP,SAAX;AACD;AACF;;AAEDC,IAAAA,QAAQ,CAACL,WAAW,CAACc,KAAD,EAAQN,cAAR,CAAZ,CAAR;AACAH,IAAAA,QAAQ,CAACJ,aAAa,CAAC;AAAEmB,MAAAA,KAAK,EAAEZ;AAAT,KAAD,CAAd,CAAR;AACD,GA1BD;AA2BD,CA5BM;KAAMN,W","sourcesContent":["import { changeItens } from \"../Actions\";\r\nimport { saveOrcamento } from \"../SaveOrcamento\";\r\n\r\nexport const ChangeItens = (indexItem, quantidade) => {\r\n  return (dispatch, getState) => {\r\n    let orcamentos = getState().orcamentos;\r\n    let indexOrcamento = orcamentos.salvos.findIndex(\r\n      (orcamento) => orcamento.id === orcamentos.atual\r\n    );\r\n    let itens = getState().orcamentos.salvos[indexOrcamento].itens;\r\n    if (!sku) {\r\n      itens.push({});\r\n    } else if (sku === 0 && indexItem) {\r\n      itens.splice(indexItem, 1);\r\n    } else {\r\n      let produtoIndex = itens.findIndex((item) => item.sku === sku);\r\n\r\n      if (produtoIndex !== -1) {\r\n        if (quantidade > 0) {\r\n          itens[produtoIndex].quantidade = quantidade;\r\n        } else {\r\n          itens.splice(produtoIndex, 1);\r\n        }\r\n      } else if (quantidade > 0) {\r\n        itens.push({ sku, quantidade });\r\n      }\r\n    }\r\n\r\n    dispatch(changeItens(itens, indexOrcamento));\r\n    dispatch(saveOrcamento({ index: indexOrcamento }));\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}