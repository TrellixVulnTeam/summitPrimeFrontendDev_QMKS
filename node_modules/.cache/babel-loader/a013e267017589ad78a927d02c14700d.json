{"ast":null,"code":"import { loading, login, setError, toggleLoading } from \"./Actions\";\nimport CallBackend from \"./CallBackend\";\nimport { getUserInfo } from \"./GetUserInfo\";\nexport const authenticate = form => {\n  return async (dispatch, getState) => {\n    dispatch(toggleLoading(true));\n    let {\n      socket\n    } = getState().config;\n    await CallBackend(socket, \"login\", \"\", form).then(async resp => {\n      if (resp && resp.token) {\n        localStorage.setItem(\"token\", resp.token);\n        await dispatch(getUserInfo());\n        await dispatch(setError(\"login\", false));\n        dispatch(toggleLoading(false));\n      }\n\n      if (resp && resp.error) {\n        console.log(resp.error);\n        dispatch(setError(\"login\", true));\n        dispatch(toggleLoading(false));\n      }\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/rocan/OneDrive/Documents/SummitPrime/frontendDev/src/Redux/Actions/Authenticate.js"],"names":["loading","login","setError","toggleLoading","CallBackend","getUserInfo","authenticate","form","dispatch","getState","socket","config","then","resp","token","localStorage","setItem","error","console","log","catch","e"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,KAAlB,EAAyBC,QAAzB,EAAmCC,aAAnC,QAAwD,WAAxD;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,WAAT,QAA4B,eAA5B;AAEA,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AACpC,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACnCD,IAAAA,QAAQ,CAACL,aAAa,CAAC,IAAD,CAAd,CAAR;AACA,QAAI;AAAEO,MAAAA;AAAF,QAAaD,QAAQ,GAAGE,MAA5B;AAEA,UAAMP,WAAW,CAACM,MAAD,EAAS,OAAT,EAAkB,EAAlB,EAAsBH,IAAtB,CAAX,CACHK,IADG,CACE,MAAOC,IAAP,IAAgB;AACpB,UAAIA,IAAI,IAAIA,IAAI,CAACC,KAAjB,EAAwB;AACtBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACC,KAAnC;AACA,cAAMN,QAAQ,CAACH,WAAW,EAAZ,CAAd;AACA,cAAMG,QAAQ,CAACN,QAAQ,CAAC,OAAD,EAAU,KAAV,CAAT,CAAd;AACAM,QAAAA,QAAQ,CAACL,aAAa,CAAC,KAAD,CAAd,CAAR;AACD;;AACD,UAAIU,IAAI,IAAIA,IAAI,CAACI,KAAjB,EAAwB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACI,KAAjB;AACAT,QAAAA,QAAQ,CAACN,QAAQ,CAAC,OAAD,EAAU,IAAV,CAAT,CAAR;AACAM,QAAAA,QAAQ,CAACL,aAAa,CAAC,KAAD,CAAd,CAAR;AACD;AACF,KAbG,EAcHiB,KAdG,CAcIC,CAAD,IAAO;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,CAAZ;AACD,KAhBG,CAAN;AAiBD,GArBD;AAsBD,CAvBM","sourcesContent":["import { loading, login, setError, toggleLoading } from \"./Actions\";\r\nimport CallBackend from \"./CallBackend\";\r\nimport { getUserInfo } from \"./GetUserInfo\";\r\n\r\nexport const authenticate = (form) => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(toggleLoading(true));\r\n    let { socket } = getState().config;\r\n\r\n    await CallBackend(socket, \"login\", \"\", form)\r\n      .then(async (resp) => {\r\n        if (resp && resp.token) {\r\n          localStorage.setItem(\"token\", resp.token);\r\n          await dispatch(getUserInfo());\r\n          await dispatch(setError(\"login\", false));\r\n          dispatch(toggleLoading(false));\r\n        }\r\n        if (resp && resp.error) {\r\n          console.log(resp.error);\r\n          dispatch(setError(\"login\", true));\r\n          dispatch(toggleLoading(false));\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}