{"ast":null,"code":"import { trocarItem } from \"../Actions\";\nimport callBackend from \"../CallBackend\";\nimport { calcularValores } from \"./CalcularValores\";\nexport const ChangeProduto = (index, indexOrcamento, sku) => {\n  let token = localStorage.getItem(\"token\");\n  return async (dispatch, getState) => {\n    let informacoes = getState().informacoes;\n    let socket = getState().pages.socket;\n\n    if (sku && sku.toString().length > 5 && sku / 6000 > 1) {\n      let data = {\n        sku,\n        tabela: informacoes.tabela,\n        UF: informacoes.UF\n      };\n      await callBackend(\"/getProduto\", token, data).then(async r => {\n        await dispatch(trocarItem(r, index, indexOrcamento));\n        await dispatch(calcularValores());\n      }).catch(async e => {\n        await dispatch(trocarItem({\n          sku,\n          nome: \"\",\n          valor: 0,\n          valorReal: 0,\n          quantidade: 0,\n          preco: 0,\n          multiplo: 0,\n          caixaMaster: 0,\n          estoque: \"\"\n        }, index, indexOrcamento));\n        await dispatch(calcularValores());\n      });\n    } else {\n      await dispatch(trocarItem({\n        sku,\n        nome: \"\",\n        valor: 0,\n        valorReal: 0,\n        quantidade: 0,\n        preco: 0,\n        multiplo: 0,\n        caixaMaster: 0,\n        estoque: \"\"\n      }, index, indexOrcamento));\n      await dispatch(calcularValores());\n    }\n  };\n};\n_c = ChangeProduto;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChangeProduto\");","map":{"version":3,"sources":["C:/Users/rocan/OneDrive/Documents/SummitPrime/frontendDev/src/Redux/Actions/TabelaActions/ChangeProduto.js"],"names":["trocarItem","callBackend","calcularValores","ChangeProduto","index","indexOrcamento","sku","token","localStorage","getItem","dispatch","getState","informacoes","socket","pages","toString","length","data","tabela","UF","then","r","catch","e","nome","valor","valorReal","quantidade","preco","multiplo","caixaMaster","estoque"],"mappings":"AAAA,SAASA,UAAT,QAA2B,YAA3B;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAASC,eAAT,QAAgC,mBAAhC;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,cAAR,EAAwBC,GAAxB,KAAgC;AAC3D,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACnC,QAAIC,WAAW,GAAGD,QAAQ,GAAGC,WAA7B;AACA,QAAIC,MAAM,GAAGF,QAAQ,GAAGG,KAAX,CAAiBD,MAA9B;;AACA,QAAIP,GAAG,IAAIA,GAAG,CAACS,QAAJ,GAAeC,MAAf,GAAwB,CAA/B,IAAoCV,GAAG,GAAG,IAAN,GAAa,CAArD,EAAwD;AACtD,UAAIW,IAAI,GAAG;AACTX,QAAAA,GADS;AAETY,QAAAA,MAAM,EAAEN,WAAW,CAACM,MAFX;AAGTC,QAAAA,EAAE,EAAEP,WAAW,CAACO;AAHP,OAAX;AAKA,YAAMlB,WAAW,CAAC,aAAD,EAAgBM,KAAhB,EAAuBU,IAAvB,CAAX,CACHG,IADG,CACE,MAAOC,CAAP,IAAa;AACjB,cAAMX,QAAQ,CAACV,UAAU,CAACqB,CAAD,EAAIjB,KAAJ,EAAWC,cAAX,CAAX,CAAd;AACA,cAAMK,QAAQ,CAACR,eAAe,EAAhB,CAAd;AACD,OAJG,EAKHoB,KALG,CAKG,MAAOC,CAAP,IAAa;AAClB,cAAMb,QAAQ,CACZV,UAAU,CACR;AACEM,UAAAA,GADF;AAEEkB,UAAAA,IAAI,EAAE,EAFR;AAGEC,UAAAA,KAAK,EAAE,CAHT;AAIEC,UAAAA,SAAS,EAAE,CAJb;AAKEC,UAAAA,UAAU,EAAE,CALd;AAMEC,UAAAA,KAAK,EAAE,CANT;AAOEC,UAAAA,QAAQ,EAAE,CAPZ;AAQEC,UAAAA,WAAW,EAAE,CARf;AASEC,UAAAA,OAAO,EAAE;AATX,SADQ,EAYR3B,KAZQ,EAaRC,cAbQ,CADE,CAAd;AAiBA,cAAMK,QAAQ,CAACR,eAAe,EAAhB,CAAd;AACD,OAxBG,CAAN;AAyBD,KA/BD,MA+BO;AACL,YAAMQ,QAAQ,CACZV,UAAU,CACR;AACEM,QAAAA,GADF;AAEEkB,QAAAA,IAAI,EAAE,EAFR;AAGEC,QAAAA,KAAK,EAAE,CAHT;AAIEC,QAAAA,SAAS,EAAE,CAJb;AAKEC,QAAAA,UAAU,EAAE,CALd;AAMEC,QAAAA,KAAK,EAAE,CANT;AAOEC,QAAAA,QAAQ,EAAE,CAPZ;AAQEC,QAAAA,WAAW,EAAE,CARf;AASEC,QAAAA,OAAO,EAAE;AATX,OADQ,EAYR3B,KAZQ,EAaRC,cAbQ,CADE,CAAd;AAiBA,YAAMK,QAAQ,CAACR,eAAe,EAAhB,CAAd;AACD;AACF,GAtDD;AAuDD,CAzDM;KAAMC,a","sourcesContent":["import { trocarItem } from \"../Actions\";\r\nimport callBackend from \"../CallBackend\";\r\nimport { calcularValores } from \"./CalcularValores\";\r\n\r\nexport const ChangeProduto = (index, indexOrcamento, sku) => {\r\n  let token = localStorage.getItem(\"token\");\r\n  return async (dispatch, getState) => {\r\n    let informacoes = getState().informacoes;\r\n    let socket = getState().pages.socket;\r\n    if (sku && sku.toString().length > 5 && sku / 6000 > 1) {\r\n      let data = {\r\n        sku,\r\n        tabela: informacoes.tabela,\r\n        UF: informacoes.UF,\r\n      };\r\n      await callBackend(\"/getProduto\", token, data)\r\n        .then(async (r) => {\r\n          await dispatch(trocarItem(r, index, indexOrcamento));\r\n          await dispatch(calcularValores());\r\n        })\r\n        .catch(async (e) => {\r\n          await dispatch(\r\n            trocarItem(\r\n              {\r\n                sku,\r\n                nome: \"\",\r\n                valor: 0,\r\n                valorReal: 0,\r\n                quantidade: 0,\r\n                preco: 0,\r\n                multiplo: 0,\r\n                caixaMaster: 0,\r\n                estoque: \"\",\r\n              },\r\n              index,\r\n              indexOrcamento\r\n            )\r\n          );\r\n          await dispatch(calcularValores());\r\n        });\r\n    } else {\r\n      await dispatch(\r\n        trocarItem(\r\n          {\r\n            sku,\r\n            nome: \"\",\r\n            valor: 0,\r\n            valorReal: 0,\r\n            quantidade: 0,\r\n            preco: 0,\r\n            multiplo: 0,\r\n            caixaMaster: 0,\r\n            estoque: \"\",\r\n          },\r\n          index,\r\n          indexOrcamento\r\n        )\r\n      );\r\n      await dispatch(calcularValores());\r\n    }\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}